{"version":3,"sources":["webpack:///../node_modules/flyio/dist/npm/fly.js","webpack:///./src/view/vote/index.vue?8c82","webpack:///src/view/vote/index.vue","webpack:///./src/view/vote/index.vue?5982","webpack:///./src/view/vote/index.vue","webpack:///../node_modules/flyio/index.js"],"names":["root","factory","module","exports","this","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_typeof","Symbol","iterator","obj","constructor","type","ob","toString","slice","toLowerCase","isObject","real","isFormData","val","FormData","trim","str","replace","encode","encodeURIComponent","formatParams","data","first","that","_encode","sub","path","forEach","e","key","merge","a","b","_createClass","defineProperties","target","props","length","descriptor","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","utils","isBrowser","document","Fly","engine","wrap","interceptor","resolve","reject","_clear","lock","Promise","_resolve","_reject","unlock","clear","XMLHttpRequest","default","interceptors","response","use","handler","onerror","request","irq","irp","config","method","baseURL","headers","timeout","params","parseJson","withCredentials","url","options","_this","contentType","contentTypeLowerCase","requestInterceptor","responseInterceptor","requestInterceptorHandler","promise","isPromise","then","catch","enqueueIfLocked","callback","makeRequest","body","baseUrl","location","href","indexOf","isAbsolute","arr","pathname","split","pop","protocol","host","join","substr","t","createElement","responseType","needQuery","dataType","_params","push","open","customContentType","_contentType","k","JSON","stringify","setRequestHeader","onresult","ret","undefined","Err","msg","status","message","onload","responseText","getResponseHeader","parse","responseHeaders","items","getAllResponseHeaders","statusText","_data","_response","ontimeout","_options","setTimeout","send","toUpperCase","err","promises","all","apply","option","render","_vm","_h","$createElement","_c","_self","_l","work","tag","attrs","desc","title","thumb","imageURL","slot","staticStyle","padding-right","size","disabled","disable_all","voted","round","on","click","$event","show_confirm_vote","_v","_s","btn_text","padding-left","show_detail","id","show","showContactDialog","show-cancel-button","confirm-button-open-type","subname","close","onContactDialogClose","cancel","showDetailAction","onActionClose","action","onActionSelect","staticRenderFns","fly","votevue_type_script_lang_js_","components","_components","notify","dialog","toast","loading","deploy_domain","userId","selectedWorkTag","max_votes","works","onLoad","$root","$mp","query","mounted","post","console","log","w","error","computed","detailActions","methods","_this2","confirm","user_id","$set","actionName","wx","showLoading","downloadFile","success","res","filePath","tempFilePath","openDocument","hideLoading","fail","view_votevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-0bcc1180.3eb72c66.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = {\n    type: function type(ob) {\n        return Object.prototype.toString.call(ob).slice(8, -1).toLowerCase();\n    },\n    isObject: function isObject(ob, real) {\n        if (real) {\n            return this.type(ob) === \"object\";\n        } else {\n            return ob && (typeof ob === 'undefined' ? 'undefined' : _typeof(ob)) === 'object';\n        }\n    },\n    isFormData: function isFormData(val) {\n        return typeof FormData !== 'undefined' && val instanceof FormData;\n    },\n    trim: function trim(str) {\n        return str.replace(/(^\\s*)|(\\s*$)/g, '');\n    },\n    encode: function encode(val) {\n        return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n    },\n    formatParams: function formatParams(data) {\n        var str = \"\";\n        var first = true;\n        var that = this;\n        if (!this.isObject(data)) {\n            return data;\n        }\n\n        function _encode(sub, path) {\n            var encode = that.encode;\n            var type = that.type(sub);\n            if (type == \"array\") {\n                sub.forEach(function (e, i) {\n                    if (!that.isObject(e)) i = \"\";\n                    _encode(e, path + ('%5B' + i + '%5D'));\n                });\n            } else if (type == \"object\") {\n                for (var key in sub) {\n                    if (path) {\n                        _encode(sub[key], path + \"%5B\" + encode(key) + \"%5D\");\n                    } else {\n                        _encode(sub[key], encode(key));\n                    }\n                }\n            } else {\n                if (!first) {\n                    str += \"&\";\n                }\n                first = false;\n                str += path + \"=\" + encode(sub);\n            }\n        }\n\n        _encode(data, \"\");\n        return str;\n    },\n\n    // Do not overwrite existing attributes\n    merge: function merge(a, b) {\n        for (var key in b) {\n            if (!a.hasOwnProperty(key)) {\n                a[key] = b[key];\n            } else if (this.isObject(b[key], 1) && this.isObject(a[key], 1)) {\n                this.merge(a[key], b[key]);\n            }\n        }\n        return a;\n    }\n};\n\n/***/ }),\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction KEEP(_,cb){cb();}\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar utils = __webpack_require__(0);\nvar isBrowser = typeof document !== \"undefined\";\n\nvar Fly = function () {\n    function Fly(engine) {\n        _classCallCheck(this, Fly);\n\n        this.engine = engine || XMLHttpRequest;\n\n        this.default = this; //For typeScript\n\n        /**\n         * Add  lock/unlock API for interceptor.\n         *\n         * Once an request/response interceptor is locked, the incoming request/response\n         * will be added to a queue before they enter the interceptor, they will not be\n         * continued  until the interceptor is unlocked.\n         *\n         * @param [interceptor] either is interceptors.request or interceptors.response\n         */\n        function wrap(interceptor) {\n            var resolve = void 0;\n            var reject = void 0;\n\n            function _clear() {\n                interceptor.p = resolve = reject = null;\n            }\n\n            utils.merge(interceptor, {\n                lock: function lock() {\n                    if (!resolve) {\n                        interceptor.p = new Promise(function (_resolve, _reject) {\n                            resolve = _resolve;\n                            reject = _reject;\n                        });\n                    }\n                },\n                unlock: function unlock() {\n                    if (resolve) {\n                        resolve();\n                        _clear();\n                    }\n                },\n                clear: function clear() {\n                    if (reject) {\n                        reject(\"cancel\");\n                        _clear();\n                    }\n                }\n            });\n        }\n\n        var interceptors = this.interceptors = {\n            response: {\n                use: function use(handler, onerror) {\n                    this.handler = handler;\n                    this.onerror = onerror;\n                }\n            },\n            request: {\n                use: function use(handler) {\n                    this.handler = handler;\n                }\n            }\n        };\n\n        var irq = interceptors.request;\n        var irp = interceptors.response;\n        wrap(irp);\n        wrap(irq);\n\n        this.config = {\n            method: \"GET\",\n            baseURL: \"\",\n            headers: {},\n            timeout: 0,\n            params: {}, // Default Url params\n            parseJson: true, // Convert response data to JSON object automatically.\n            withCredentials: false\n        };\n    }\n\n    _createClass(Fly, [{\n        key: \"request\",\n        value: function request(url, data, options) {\n            var _this = this;\n\n            var engine = new this.engine();\n            var contentType = \"Content-Type\";\n            var contentTypeLowerCase = contentType.toLowerCase();\n            var interceptors = this.interceptors;\n            var requestInterceptor = interceptors.request;\n            var responseInterceptor = interceptors.response;\n            var requestInterceptorHandler = requestInterceptor.handler;\n            var promise = new Promise(function (resolve, reject) {\n                if (utils.isObject(url)) {\n                    options = url;\n                    url = options.url;\n                }\n                options = options || {};\n                options.headers = options.headers || {};\n\n                function isPromise(p) {\n                    // some  polyfill implementation of Promise may be not standard,\n                    // so, we test by duck-typing\n                    return p && p.then && p.catch;\n                }\n\n                /**\n                 * If the request/response interceptor has been locked，\n                 * the new request/response will enter a queue. otherwise, it will be performed directly.\n                 * @param [promise] if the promise exist, means the interceptor is  locked.\n                 * @param [callback]\n                 */\n                function enqueueIfLocked(promise, callback) {\n                    if (promise) {\n                        promise.then(function () {\n                            callback();\n                        });\n                    } else {\n                        callback();\n                    }\n                }\n\n                // make the http request\n                function makeRequest(options) {\n                    data = options.body;\n                    // Normalize the request url\n                    url = utils.trim(options.url);\n                    var baseUrl = utils.trim(options.baseURL || \"\");\n                    if (!url && isBrowser && !baseUrl) url = location.href;\n                    if (url.indexOf(\"http\") !== 0) {\n                        var isAbsolute = url[0] === \"/\";\n                        if (!baseUrl && isBrowser) {\n                            var arr = location.pathname.split(\"/\");\n                            arr.pop();\n                            baseUrl = location.protocol + \"//\" + location.host + (isAbsolute ? \"\" : arr.join(\"/\"));\n                        }\n                        if (baseUrl[baseUrl.length - 1] !== \"/\") {\n                            baseUrl += \"/\";\n                        }\n                        url = baseUrl + (isAbsolute ? url.substr(1) : url);\n                        if (isBrowser) {\n\n                            // Normalize the url which contains the \"..\" or \".\", such as\n                            // \"http://xx.com/aa/bb/../../xx\" to \"http://xx.com/xx\" .\n                            var t = document.createElement(\"a\");\n                            t.href = url;\n                            url = t.href;\n                        }\n                    }\n\n                    var responseType = utils.trim(options.responseType || \"\");\n                    var needQuery = [\"GET\", \"HEAD\", \"DELETE\", \"OPTION\"].indexOf(options.method) !== -1;\n                    var dataType = utils.type(data);\n                    var params = options.params || {};\n\n                    // merge url params when the method is \"GET\" (data is object)\n                    if (needQuery && dataType === \"object\") {\n                        params = utils.merge(data, params);\n                    }\n                    // encode params to String\n                    params = utils.formatParams(params);\n\n                    // save url params\n                    var _params = [];\n                    if (params) {\n                        _params.push(params);\n                    }\n                    // Add data to url params when the method is \"GET\" (data is String)\n                    if (needQuery && data && dataType === \"string\") {\n                        _params.push(data);\n                    }\n\n                    // make the final url\n                    if (_params.length > 0) {\n                        url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + _params.join(\"&\");\n                    }\n\n                    engine.open(options.method, url);\n\n                    // try catch for ie >=9\n                    try {\n                        engine.withCredentials = !!options.withCredentials;\n                        engine.timeout = options.timeout || 0;\n                        if (responseType !== \"stream\") {\n                            engine.responseType = responseType;\n                        }\n                    } catch (e) {}\n\n                    var customContentType = options.headers[contentType] || options.headers[contentTypeLowerCase];\n\n                    // default content type\n                    var _contentType = \"application/x-www-form-urlencoded\";\n                    // If the request data is json object, transforming it  to json string,\n                    // and set request content-type to \"json\". In browser,  the data will\n                    // be sent as RequestBody instead of FormData\n                    if (utils.trim((customContentType || \"\").toLowerCase()) === _contentType) {\n                        data = utils.formatParams(data);\n                    } else if (!utils.isFormData(data) && [\"object\", \"array\"].indexOf(utils.type(data)) !== -1) {\n                        _contentType = 'application/json;charset=utf-8';\n                        data = JSON.stringify(data);\n                    }\n                    //If user doesn't set content-type, set default.\n                    if (!(customContentType || needQuery)) {\n                        options.headers[contentType] = _contentType;\n                    }\n\n                    for (var k in options.headers) {\n                        if (k === contentType && utils.isFormData(data)) {\n                            // Delete the content-type, Let the browser set it\n                            delete options.headers[k];\n                        } else {\n                            try {\n                                // In browser environment, some header fields are readonly,\n                                // write will cause the exception .\n                                engine.setRequestHeader(k, options.headers[k]);\n                            } catch (e) {}\n                        }\n                    }\n\n                    function onresult(handler, data, type) {\n                        enqueueIfLocked(responseInterceptor.p, function () {\n                            if (handler) {\n                                //如果失败，添加请求信息\n                                if (type) {\n                                    data.request = options;\n                                }\n                                var ret = handler.call(responseInterceptor, data, Promise);\n                                data = ret === undefined ? data : ret;\n                            }\n                            if (!isPromise(data)) {\n                                data = Promise[type === 0 ? \"resolve\" : \"reject\"](data);\n                            }\n                            data.then(function (d) {\n                                resolve(d);\n                            }).catch(function (e) {\n                                reject(e);\n                            });\n                        });\n                    }\n\n                    function onerror(e) {\n                        e.engine = engine;\n                        onresult(responseInterceptor.onerror, e, -1);\n                    }\n\n                    function Err(msg, status) {\n                        this.message = msg;\n                        this.status = status;\n                    }\n\n                    engine.onload = function () {\n                        try {\n                            // The xhr of IE9 has not response field\n                            var response = engine.response || engine.responseText;\n                            if (response && options.parseJson && (engine.getResponseHeader(contentType) || \"\").indexOf(\"json\") !== -1\n                            // Some third engine implementation may transform the response text to json object automatically,\n                            // so we should test the type of response before transforming it\n                            && !utils.isObject(response)) {\n                                response = JSON.parse(response);\n                            }\n\n                            var headers = engine.responseHeaders;\n                            // In browser\n                            if (!headers) {\n                                headers = {};\n                                var items = (engine.getAllResponseHeaders() || \"\").split(\"\\r\\n\");\n                                items.pop();\n                                items.forEach(function (e) {\n                                    if (!e) return;\n                                    var key = e.split(\":\")[0];\n                                    headers[key] = engine.getResponseHeader(key);\n                                });\n                            }\n                            var status = engine.status;\n                            var statusText = engine.statusText;\n                            var _data = { data: response, headers: headers, status: status, statusText: statusText };\n                            // The _response filed of engine is set in  adapter which be called in engine-wrapper.js\n                            utils.merge(_data, engine._response);\n                            if (status >= 200 && status < 300 || status === 304) {\n                                _data.engine = engine;\n                                _data.request = options;\n                                onresult(responseInterceptor.handler, _data, 0);\n                            } else {\n                                var e = new Err(statusText, status);\n                                e.response = _data;\n                                onerror(e);\n                            }\n                        } catch (e) {\n                            onerror(new Err(e.msg, engine.status));\n                        }\n                    };\n\n                    engine.onerror = function (e) {\n                        onerror(new Err(e.msg || \"Network Error\", 0));\n                    };\n\n                    engine.ontimeout = function () {\n                        onerror(new Err(\"timeout [ \" + engine.timeout + \"ms ]\", 1));\n                    };\n                    engine._options = options;\n                    setTimeout(function () {\n                        engine.send(needQuery ? null : data);\n                    }, 0);\n                }\n\n                enqueueIfLocked(requestInterceptor.p, function () {\n                    utils.merge(options, JSON.parse(JSON.stringify(_this.config)));\n                    var headers = options.headers;\n                    headers[contentType] = headers[contentType] || headers[contentTypeLowerCase] || \"\";\n                    delete headers[contentTypeLowerCase];\n                    options.body = data || options.body;\n                    url = utils.trim(url || \"\");\n                    options.method = options.method.toUpperCase();\n                    options.url = url;\n                    var ret = options;\n                    if (requestInterceptorHandler) {\n                        ret = requestInterceptorHandler.call(requestInterceptor, options, Promise) || options;\n                    }\n                    if (!isPromise(ret)) {\n                        ret = Promise.resolve(ret);\n                    }\n                    ret.then(function (d) {\n                        //if options continue\n                        if (d === options) {\n                            makeRequest(d);\n                        } else {\n                            resolve(d);\n                        }\n                    }, function (err) {\n                        reject(err);\n                    });\n                });\n            });\n            promise.engine = engine;\n            return promise;\n        }\n    }, {\n        key: \"all\",\n        value: function all(promises) {\n            return Promise.all(promises);\n        }\n    }, {\n        key: \"spread\",\n        value: function spread(callback) {\n            return function (arr) {\n                return callback.apply(null, arr);\n            };\n        }\n    }]);\n\n    return Fly;\n}();\n\n//For typeScript\n\n\nFly.default = Fly;\n\n[\"get\", \"post\", \"put\", \"patch\", \"head\", \"delete\"].forEach(function (e) {\n    Fly.prototype[e] = function (url, data, option) {\n        return this.request(url, data, utils.merge({ method: e }, option));\n    };\n});\n[\"lock\", \"unlock\", \"clear\"].forEach(function (e) {\n    Fly.prototype[e] = function () {\n        this.interceptors.request[e]();\n    };\n});\n// Learn more about keep-loader: https://github.com/wendux/keep-loader\n;\nmodule.exports = Fly;\n\n/***/ })\n/******/ ]);\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.works),function(work){return _c('van-card',{key:work.tag,attrs:{\"tag\":work.tag + ' 号',\"desc\":work.desc,\"title\":work.title,\"thumb\":work.imageURL}},[_c('view',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('van-button',{staticStyle:{\"padding-right\":\"5px\"},attrs:{\"size\":\"small\",\"type\":\"danger\",\"disabled\":_vm.disable_all || work.voted,\"round\":\"\"},on:{\"click\":function($event){return _vm.show_confirm_vote(work.tag, work.title, _vm.disable_all, work.voted)}}},[_vm._v(\"\\n        \"+_vm._s(work.btn_text)+\"\\n      \")]),_c('van-button',{staticStyle:{\"padding-left\":\"5px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){return _vm.show_detail(work.tag)}}},[_vm._v(\"查看详情\")])],1)])}),_c('van-dialog',{attrs:{\"id\":\"van-dialog\"}}),_c('van-dialog',{attrs:{\"show\":_vm.showContactDialog,\"show-cancel-button\":\"\",\"confirm-button-open-type\":'contact',\"title\":\"提示\",\"message\":_vm.subname},on:{\"close\":_vm.onContactDialogClose,\"cancel\":_vm.onContactDialogClose}}),_c('van-action-sheet',{attrs:{\"show\":_vm.showDetailAction,\"title\":\"选择查看详情方式\"},on:{\"close\":function($event){return _vm.onActionClose()}}},[_c('view',_vm._l((_vm.detailActions),function(action){return _c('van-button',{key:action.name,attrs:{\"size\":\"large\"},on:{\"click\":function($event){return _vm.onActionSelect(action.name, action.subname)}}},[_vm._v(\"\\n          \"+_vm._s(action.name)+\"\\n        \")])}),1)]),_c('van-notify',{attrs:{\"id\":\"van-notify\"}}),_c('van-toast',{attrs:{\"id\":\"van-toast\"}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <van-card\n      :tag=\"work.tag + ' 号'\"\n      :desc=\"work.desc\"\n      :title=\"work.title\"\n      v-for=\"work in works\"\n      :key=\"work.tag\"\n      :thumb=\"work.imageURL\"\n    >\n      <view slot=\"footer\">\n        <van-button size=\"small\" type=\"danger\"\n          @click=\"show_confirm_vote(work.tag, work.title, disable_all, work.voted)\"\n          :disabled=\"disable_all || work.voted\"\n          round style=\"padding-right: 5px;\">\n          {{ work.btn_text }}\n        </van-button>\n        <van-button size=\"small\" type=\"primary\"\n          @click=\"show_detail(work.tag)\"\n          round style=\"padding-left: 5px;\">查看详情</van-button>\n      </view>\n    </van-card>\n    <van-dialog id=\"van-dialog\" />\n    <van-dialog\n      :show=\"showContactDialog\"\n      show-cancel-button\n      :confirm-button-open-type=\"'contact'\"\n      @close=\"onContactDialogClose\"\n      @cancel=\"onContactDialogClose\"\n      title=\"提示\"\n      :message=\"subname\"\n    />\n    <van-action-sheet :show=\"showDetailAction\" title=\"选择查看详情方式\"\n        @close=\"onActionClose()\">\n        <view>\n          <van-button\n            v-for=\"action in detailActions\"\n            :key=\"action.name\"\n            @click=\"onActionSelect(action.name, action.subname)\"\n            size=\"large\">\n            <!-- :open-type=\"action.name === '作品链接' ? 'contact' : ''\"> -->\n            {{ action.name }}\n          </van-button>\n        </view>\n    </van-action-sheet>\n    <van-notify id=\"van-notify\" />\n    <van-toast id=\"van-toast\" />\n  </div>\n</template>\n\n<script>\n// var Fly = require(\"flyio/dist/npm/wx\") \n// var fly = new Fly\n// 这个是唤起Notify的函数，参照[Vant 文档](https://youzan.github.io/vant-weapp/#/notify)\n// import Notify from '@/../static/vant/notify/notify'\n// import Toast from '@/../static/vant/toast/toast'\n// import Dialog from '@/../static/vant/dialog/dialog'\nimport { Notify, Dialog, Toast, Loading } from 'vant'\nvar fly=require(\"flyio\")\nexport default {\n  components: {\n    [Notify.name]: Notify,\n    [Dialog.name]: Dialog,\n    [Toast.name]: Toast,\n    [Loading.name]: Loading\n  },\n  data () {\n    return {\n      // Test\n      deploy_domain: 'https://vote.ilingyue.cn',\n      // deploy_domain: 'http://142.93.185.148:8888',\n      userId: undefined,\n      selectedWorkTag: '',\n      showDetailAction: false,\n      showContactDialog: false,\n      disable_all: false,\n      max_votes: 3,\n      voted: 0,\n      // 进入客服界面之前的提示信息\n      subname: '',\n      // 作品, 先不用分页和懒加载\n      works: {\n        // '1': {\n        //   title: '作品 1',\n        //   tag: '1',\n        //   desc: '作品 1 的描述, TODO. 这只是简略表述, 每个作品还有一个图标, 图标有一个默认的占位符.',\n        //   // 指向后端存储的作品 pdf 渲染\n        //   pdf_url: 'https://media.nips.cc/Conferences/NIPS2018/Styles/nips_2018.pdf',\n        //   // 这个是后台机器人回复该内容可以获得一个链接指向微信推送之类的地方去\n        //   origin_url: '',\n        //   imageURL: \"https://avatars2.githubusercontent.com/u/8016514\",\n        //   voted: false,\n        // },\n        // '2': {\n        //   title: '作品 2',\n        //   tag: '2',\n        //   desc: '作品 2 的描述, TODO. 这只是简略表述, 每个作品还有一个图标, 图标有一个默认的占位符.',\n        //   // 指向后端存储的作品 pdf 渲染\n        //   // TODO: 到时候这些 url 只能用站内 url\n        //   pdf_url: 'https://media.nips.cc/Conferences/NIPS2018/Styles/nips_2018.pdf',\n        //   // 这个是后台机器人回复该内容可以获得一个链接指向微信推送之类的地方去\n        //   origin_url: '',\n        //   imageURL: \"https://avatars2.githubusercontent.com/u/8016514\",\n        //   voted: true,\n        // },\n        // '3': {\n        //   title: '作品 3',\n        //   tag: '3',\n        //   desc: '作品 3 的描述, TODO. 这只是简略表述, 每个作品还有一个图标, 图标有一个默认的占位符.',\n        //   // 指向后端存储的作品 pdf 渲染\n        //   pdf_url: 'https://media.nips.cc/Conferences/NIPS2018/Styles/nips_2018.pdf',\n        //   // 这个是后台机器人回复该内容可以获得一个链接指向微信推送之类的地方去\n        //   origin_url: '',\n        //   imageURL: \"https://avatars2.githubusercontent.com/u/8016514\",\n        //   voted: false,\n        // }\n      }\n    }\n  },\n  onLoad (options) {\n    this.userId = this.$root.$mp.query.userId\n  },\n  mounted: function () {\n    // this.$nextTick(function () {\n    Notify('登录成功')\n    // })\n    // TODO\n    var _this = this\n    fly.post(this.deploy_domain + '/getWorks', {\n      userId: this.userId\n    }).then(function (response) {\n      console.log(response);\n      if (response['data']['code'] === 'success') {\n        // console.log(response['data']['data'])\n        _this.works = response['data']['data']['works']\n        _this.max_votes = response['data']['data']['max_votes']\n        Notify('获取作品成功')\n        var voted = 0\n        var works = _this.works\n        for (var w in _this.works) {\n          if (works[w]['voted']) {\n            voted += 1\n            works[w]['btn_text'] = '已投票'\n          } else {\n            works[w]['btn_text'] = '直接投票'\n          }\n        }\n        if (voted >= _this.max_votes) {\n          _this.disable_all = true\n        }\n        _this.voted = voted\n        _this.works = works\n      }\n      else {\n        Notify('获取作品失败')\n      }\n    }).catch(function (error) {\n      console.log(error);\n      Notify('获取作品失败: ' + error);\n    });\n  },\n  computed: {\n    detailActions: function () {\n      return [\n        {\n          name: '小程序内查看',\n          subname: '在小程序内打开作品的 pdf 版本介绍'\n        },\n        {\n          name: '作品链接',\n          subname: '在客服号中回复 \"' + this.selectedWorkTag\n            + '\" 获得作品链接'\n        }\n      ]\n    }\n  },\n  methods: {\n    show_confirm_vote (tag, title, disable_all, voted) {\n      if (disable_all) {\n        Notify('您已经使用完了所有票数(' + this.voted + ' 张)')\n      } else if (voted) {\n        Notify('您已经投票了该作品')\n      } else {\n        Dialog.confirm({\n          title: '确认投票',\n          message: '是否确认为作品 \"' + title + '\"(' + tag + ') 投票, 投票后不能撤销!'\n        }).then(() => {\n          // TODO\n          fly.post(this.deploy_domain + '/vote', {\n            user_id: this.userId,\n            tag: tag\n          })\n          .then(function (response) {\n            console.log(response);\n            Notify('作品 \"' + title + '\"( ' + tag + ') 投票成功');\n          })\n          .catch(function (error) {\n            console.log(error);\n            Notify('作品 \"' + title + '\"( ' + tag + ') 投票失败');\n          });\n          this.voted = this.voted + 1\n          Notify('作品 \"' + title + '\"( ' + tag + ') 投票成功, 剩余可投票数 ' + (this.max_votes - this.voted) + ' 张')\n          this.$set(this.works[tag], 'voted', true)\n          this.$set(this.works[tag], 'btn_text', '已投票')\n          if (this.max_votes <= this.voted) {\n            this.disable_all = true\n          }\n        }).catch(() => {\n          Toast('取消投票')\n        });\n      }\n    },\n    show_detail (tag) {\n      this.selectedWorkTag = tag\n      this.showDetailAction = true\n    },\n    onActionClose () {\n      this.showDetailAction = false\n      this.selectedWorkTag = ''\n      Toast('取消查看详情')\n    },\n    onContactDialogClose() {\n      this.showContactDialog = false\n    },\n    onActionSelect(actionName, subname) {\n      this.showDetailAction = false\n      if (actionName === '小程序内查看') {\n        wx.showLoading({\n          title: '文件下载中',\n        })\n        wx.downloadFile({\n          url: this.works[this.selectedWorkTag]['pdf_url'],\n          success(res) {\n            const filePath = res.tempFilePath\n            wx.openDocument({\n              filePath,\n              success(res) {\n                wx.hideLoading()\n                console.log(res)\n                console.log('打开文档成功')\n              },\n              fail(res) {\n                wx.hideLoading()\n                console.log(res)\n                Notify('打开文件失败')\n              }\n            })\n          },\n          fail(res) {\n            wx.hideLoading()\n            console.log(res)\n            Notify('下载文件失败')\n          }\n        })\n      } else if (actionName === '作品链接') {\n        this.subname = subname\n        this.showContactDialog = true\n      }\n      this.selectedWorkTag = ''\n    }\n  }\n}\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8a141870&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","//For browser entry\nvar Fly= require(\"./dist/npm/fly\")\nvar fly= new Fly;\nmodule.exports = fly;\n"],"sourceRoot":""}